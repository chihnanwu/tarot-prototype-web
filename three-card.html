<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>三卡牌陣 - 神秘塔羅</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/style.css">
  <style>
    .three-card-spread {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 30px;
      margin: 40px 0;
    }
    
    .spread-position {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 150px;
    }
    
    .position-label {
      background: var(--secondary);
      color: white;
      padding: 5px 15px;
      border-radius: 20px;
      margin-bottom: 15px;
      font-weight: bold;
    }
    
    .card-placeholder {
      width: 120px;
      height: 200px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      position: relative;
      transition: all 0.3s ease;
    }
    
    .card-placeholder:hover {
      transform: translateY(-10px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
    }
    
    .card-placeholder.active {
      border: 3px solid var(--accent);
    }
    
    .card-placeholder i {
      font-size: 40px;
      color: var(--accent);
    }
    
    .deck-container {
      margin: 40px 0;
      text-align: center;
    }
    
    .deck {
      position: relative;
      width: 120px;
      height: 200px;
      margin: 0 auto;
    }
    
    .deck .tarot-card {
      position: absolute;
      top: 0;
      left: 0;
    }
    
    .deck .tarot-card:nth-child(2) {
      transform: translateX(3px) translateY(3px);
    }
    
    .deck .tarot-card:nth-child(3) {
      transform: translateX(6px) translateY(6px);
    }
    
    .deck-instruction {
      margin-top: 20px;
      font-weight: bold;
      color: var(--secondary);
    }
    
    .spread-description {
      max-width: 800px;
      margin: 0 auto 30px;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 6px var(--shadow);
    }
    
    .reading-cards {
      justify-content: center;
      gap: 40px;
    }
    
    .card-explanation {
      background: white;
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
      box-shadow: 0 2px 4px var(--shadow);
    }
    
    .card-explanation h4 {
      color: var(--secondary);
      margin-bottom: 10px;
    }
    
    .reading-actions {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 30px;
    }
    
    @media (max-width: 768px) {
      .three-card-spread {
        flex-direction: column;
        align-items: center;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="nav">
      <div class="logo">
        <i class="fas fa-moon"></i> 神秘塔羅
      </div>
      <div class="nav-links">
        <a href="index.html" class="nav-link">首頁</a>
        <a href="single-card.html" class="nav-link">單卡占卜</a>
        <a href="spreads.html" class="nav-link">多卡陣式</a>
        <a href="library.html" class="nav-link">塔羅牌庫</a>
        <a href="account.html" class="nav-link">會員中心</a>
        <a href="login.html" class="nav-link">登入/註冊</a>
      </div>
    </div>
    
    <div style="text-align: center; padding: 40px 20px;">
      <h2 class="page-header">三卡牌陣占卜</h2>
      <p class="page-description">
        三卡牌陣是最流行的塔羅牌陣之一，能夠簡潔有力地解答您的問題。代表過去、現在、未來的三個時間點。
      </p>
      
      <div class="spread-description">
        <h3>使用說明</h3>
        <p>1. 在進行占卜前，請靜心冥想您想探索的問題或情況</p>
        <p>2. 點選牌堆抽取三張牌，依次代表過去、現在、未來</p>
        <p>3. 所有卡牌抽取完畢後，解讀將會顯示</p>
      </div>
      
      <div id="selection-phase">
        <div class="three-card-spread">
          <div class="spread-position">
            <div class="position-label">過去</div>
            <div class="card-placeholder" id="past-position">
              <i class="fas fa-question"></i>
            </div>
          </div>
          <div class="spread-position">
            <div class="position-label">現在</div>
            <div class="card-placeholder" id="present-position">
              <i class="fas fa-question"></i>
            </div>
          </div>
          <div class="spread-position">
            <div class="position-label">未來</div>
            <div class="card-placeholder" id="future-position">
              <i class="fas fa-question"></i>
            </div>
          </div>
        </div>
        
        <div class="deck-container">
          <div class="deck">
            <div class="tarot-card">
              <div class="card-face card-back">
                <i class="fas fa-moon"></i>
              </div>
            </div>
            <div class="tarot-card">
              <div class="card-face card-back">
                <i class="fas fa-moon"></i>
              </div>
            </div>
            <div class="tarot-card">
              <div class="card-face card-back">
                <i class="fas fa-moon"></i>
              </div>
            </div>
          </div>
          <p class="deck-instruction">點擊牌堆開始抽牌</p>
        </div>
      </div>
      
      <div class="reading-result" style="display: none;">
        <h3 class="reading-title">您的三卡牌陣占卜解析</h3>
        
        <div class="reading-cards">
          <div class="spread-position">
            <div class="position-label">過去</div>
            <div class="tarot-card flipped" id="past-card">
              <div class="card-face card-back">
                <i class="fas fa-moon"></i>
              </div>
              <div class="card-face card-front">
                <div class="card-img">
                  <i class="fas fa-star" style="font-size: 50px; color: #3498db;"></i>
                </div>
                <div class="card-name">星星</div>
              </div>
            </div>
            <div class="card-explanation">
              <h4>星星 - 過去的影響</h4>
              <p>星星牌象徵希望、靈感與信心。在過去位置，表示您曾經充滿夢想和希望，擁有清晰的方向和目標。這段時期的樂觀態度和信念為您現在的處境打下了基礎。</p>
            </div>
          </div>
          
          <div class="spread-position">
            <div class="position-label">現在</div>
            <div class="tarot-card flipped" id="present-card">
              <div class="card-face card-back">
                <i class="fas fa-moon"></i>
              </div>
              <div class="card-face card-front">
                <div class="card-img">
                  <i class="fas fa-balance-scale" style="font-size: 50px; color: #1abc9c;"></i>
                </div>
                <div class="card-name">正義</div>
              </div>
            </div>
            <div class="card-explanation">
              <h4>正義 - 當前處境</h4>
              <p>正義牌代表平衡、誠實和因果。在現在位置，表明您正處於需要做出公正決定或面臨重要選擇的時期。這是一個需要誠實面對自己和他人的時刻，您的行動將直接影響未來的結果。</p>
            </div>
          </div>
          
          <div class="spread-position">
            <div class="position-label">未來</div>
            <div class="tarot-card flipped" id="future-card">
              <div class="card-face card-back">
                <i class="fas fa-moon"></i>
              </div>
              <div class="card-face card-front">
                <div class="card-img">
                  <i class="fas fa-sun" style="font-size: 50px; color: #f1c40f;"></i>
                </div>
                <div class="card-name">太陽</div>
              </div>
            </div>
            <div class="card-explanation">
              <h4>太陽 - 未來發展</h4>
              <p>太陽牌象徵成功、喜悅和豐盛。在未來位置，預示著光明的前景和積極的結果。如果您現在正面臨挑戰，請保持信心，困難將會過去，您將迎來幸福和成功的時期。</p>
            </div>
          </div>
        </div>
        
        <div class="reading-interpretation">
          <h4>整體解讀</h4>
          <p>這個三卡牌陣顯示了一個從希望和夢想（星星）出發，經過當前需要做出平衡決定的階段（正義），最終走向成功和幸福（太陽）的旅程。</p>
          <p>您過去的理想和抱負為現在的決定提供了基礎，而您現在所做的選擇和判斷將直接影響未來的成果。太陽牌在未來位置是非常積極的跡象，表明無論現在面臨什麼挑戰，最終都將迎來光明和喜悅。</p>
          <p>建議您在當前階段保持公正和平衡的態度，誠實面對自己和他人，遵循內心的道德指引做出決定。這將為您鋪就一條通往成功和幸福的道路。</p>
        </div>
        
        <div class="reading-actions">
          <a href="#" class="btn" onclick="alert('結果已保存！'); return false;">保存結果</a>
          <a href="three-card.html" class="btn">重新占卜</a>
          <a href="library.html" class="btn">查看牌義詳解</a>
        </div>
      </div>
    </div>
    
    <div class="footer">
      <div class="logo">
        <i class="fas fa-moon"></i> 神秘塔羅
      </div>
      <div class="footer-links">
        <a href="#" class="footer-link">關於我們</a>
        <a href="#" class="footer-link">使用條款</a>
        <a href="#" class="footer-link">隱私政策</a>
        <a href="#" class="footer-link">聯絡我們</a>
      </div>
      <div class="social-links">
        <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
      </div>
      <p>&copy; 2025 神秘塔羅. 保留所有權利。</p>
    </div>
  </div>
  
  <script src="assets/js/main.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // 牌組數據
      const tarotCards = [
        { name: '太陽', icon: 'fas fa-sun', color: '#f1c40f' },
        { name: '月亮', icon: 'fas fa-moon', color: '#9b59b6' },
        { name: '星星', icon: 'fas fa-star', color: '#3498db' },
        { name: '塔', icon: 'fas fa-tower-observation', color: '#e74c3c' },
        { name: '正義', icon: 'fas fa-balance-scale', color: '#1abc9c' },
        { name: '魔術師', icon: 'fas fa-hat-wizard', color: '#8e44ad' },
        { name: '皇后', icon: 'fas fa-chess-queen', color: '#d35400' },
        { name: '命運之輪', icon: 'fas fa-dharmachakra', color: '#2980b9' },
        { name: '力量', icon: 'fas fa-hand-fist', color: '#c0392b' },
        { name: '隱士', icon: 'fas fa-user-ninja', color: '#7f8c8d' }
      ];
      
      // 初始化變量
      let currentPosition = null;
      let selectedCards = {
        past: null,
        present: null,
        future: null
      };
      
      // 牌堆元素
      const deck = document.querySelector('.deck');
      const pastPosition = document.getElementById('past-position');
      const presentPosition = document.getElementById('present-position');
      const futurePosition = document.getElementById('future-position');
      const selectionPhase = document.getElementById('selection-phase');
      const readingResult = document.querySelector('.reading-result');
      
      // 添加牌堆點擊事件
      deck.addEventListener('click', function() {
        if (!currentPosition) {
          // 第一次點擊，選擇過去位置
          currentPosition = 'past';
          pastPosition.classList.add('active');
        } else if (currentPosition === 'past' && !selectedCards.past) {
          // 抽取過去的牌
          const randomCard = getRandomCard();
          selectedCards.past = randomCard;
          
          // 更新過去位置顯示
          pastPosition.innerHTML = `
            <i class="${randomCard.icon}" style="color: ${randomCard.color};"></i>
            <div style="font-size: 12px; margin-top: 5px;">${randomCard.name}</div>
          `;
          pastPosition.classList.remove('active');
          
          // 轉向現在位置
          currentPosition = 'present';
          presentPosition.classList.add('active');
        } else if (currentPosition === 'present' && !selectedCards.present) {
          // 抽取現在的牌
          const randomCard = getRandomCard();
          selectedCards.present = randomCard;
          
          // 更新現在位置顯示
          presentPosition.innerHTML = `
            <i class="${randomCard.icon}" style="color: ${randomCard.color};"></i>
            <div style="font-size: 12px; margin-top: 5px;">${randomCard.name}</div>
          `;
          presentPosition.classList.remove('active');
          
          // 轉向未來位置
          currentPosition = 'future';
          futurePosition.classList.add('active');
        } else if (currentPosition === 'future' && !selectedCards.future) {
          // 抽取未來的牌
          const randomCard = getRandomCard();
          selectedCards.future = randomCard;
          
          // 更新未來位置顯示
          futurePosition.innerHTML = `
            <i class="${randomCard.icon}" style="color: ${randomCard.color};"></i>
            <div style="font-size: 12px; margin-top: 5px;">${randomCard.name}</div>
          `;
          futurePosition.classList.remove('active');
          
          // 所有牌都已抽取，準備顯示結果
          setTimeout(showReadingResult, 1500);
        }
      });
      
      // 隨機獲取一張塔羅牌
      function getRandomCard() {
        const randomIndex = Math.floor(Math.random() * tarotCards.length);
        return tarotCards[randomIndex];
      }
      
      // 更新占卜結果卡片
      function updateResultCard(position, card) {
        const cardElement = document.getElementById(`${position}-card`);
        const frontFace = cardElement.querySelector('.card-front .card-img');
        const cardName = cardElement.querySelector('.card-name');
        
        frontFace.innerHTML = `<i class="${card.icon}" style="font-size: 50px; color: ${card.color};"></i>`;
        cardName.textContent = card.name;
      }
      
      // 顯示占卜結果
      function showReadingResult() {
        // 更新結果卡片
        updateResultCard('past', selectedCards.past);
        updateResultCard('present', selectedCards.present);
        updateResultCard('future', selectedCards.future);
        
        // 隱藏選擇階段，顯示結果
        selectionPhase.style.display = 'none';
        readingResult.style.display = 'block';
        
        // 平滑滾動到結果
        readingResult.scrollIntoView({ behavior: 'smooth' });
      }
    });
  </script>
</body>
</html> 